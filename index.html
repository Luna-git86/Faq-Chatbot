<!DOCTYPE html>
<html>

<head>
  <title>Chatbot Akademik dengan Decision Tree</title>
  <!-- # Bagian CSS: Mengatur tampilan chatbot -->
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      background-color: #f9f9f9;
    }

    #chatbox {
      width: 100%;
      height: 300px;
      border: 1px solid #ccc;
      padding: 10px;
      overflow-y: scroll;
      background-color: #fff;
      margin-bottom: 10px;
    }

    .message {
      margin: 5px 0;
    }

    .user {
      color: blue;
    }

    .bot {
      color: green;
    }

    #userInput {
      width: 100%;
      padding: 10px;
      flex: 1;
    }

    .input-row {
      display: flex;
      gap: 10px;
      margin-bottom: 0;
    }

    #sendBtn {
      padding: 10px 15px;
      background-color: #28a745;
      color: white;
      border: none;
      cursor: pointer;
    }

    #sendBtn:hover {
      background-color: #218838;
    }

    #resetBtn {
      padding: 10px 15px;
      background-color: #dc3545;
      color: white;
      border: none;
      cursor: pointer;
    }

    #resetBtn:hover {
      background-color: #c82333;
    }
  </style>
</head>

<body>

  <!-- # Judul Chatbot -->
  <h2>Chatbot Akademik - Decision Tree</h2>

  <!-- # Kotak Chat untuk menampilkan percakapan -->
  <div id="chatbox"></div>

  <!-- # Baris input dan tombol -->
  <div class="input-row">
    <input type="text" id="userInput" placeholder="Ketik pertanyaan..." />
    <button id="sendBtn" onclick="kirim()">Kirim</button>
    <button id="resetBtn" onclick="reset()">Reset</button>
  </div>

  <script>
    // # Struktur Decision Tree chatbot
    // Root node kosong, cabang utama adalah keyword penting
    const decisionTree = {
      keyword: "", // root node
      yes: null, // tidak digunakan
      no: {
        keyword: "krs",
        yes: { 
          response: "KRS dapat diakses melalui portal akademik. Pastikan Anda sudah melakukan pembayaran UKT dan tidak memiliki tunggakan. Jangan lupa untuk memeriksa jadwal pengisian KRS di kalender akademik." 
        },
        no: {
          keyword: "skripsi",
          yes: {
            keyword: "pendaftaran",
            yes: { 
              response: "Pendaftaran skripsi dilakukan melalui portal akademik. Persiapkan proposal dan surat persetujuan dosen pembimbing. Pastikan juga untuk memeriksa syarat-syarat pendaftaran seperti IPK minimal dan jumlah SKS yang telah diselesaikan." 
            },
            no: {
              keyword: "seminar",
              yes: { 
                response: "Seminar proposal dan hasil dapat dijadwalkan setelah berkas lengkap dan disetujui dosen pembimbing. Persiapkan presentasi dan bahan seminar dengan baik. Jangan lupa untuk mengundang dosen penguji sesuai ketentuan." 
              },
              no: { 
                response: "Untuk informasi lebih lanjut tentang skripsi, silakan hubungi koordinator skripsi di fakultas Anda. Anda juga dapat mengakses panduan penulisan skripsi di website fakultas." 
              }
            }
          },
          no: {
            keyword: "ukt",
            yes: {
              keyword: "pembayaran",
              yes: { 
                response: "Pembayaran UKT dapat dilakukan melalui bank yang ditunjuk atau melalui portal pembayaran kampus. Pastikan untuk menyimpan bukti pembayaran. Pembayaran dapat dilakukan secara cicilan sesuai ketentuan yang berlaku." 
              },
              no: {
                keyword: "keringanan",
                yes: { 
                  response: "Pengajuan keringanan UKT dapat dilakukan dengan mengisi form dan melampirkan dokumen pendukung seperti slip gaji orang tua, surat keterangan tidak mampu, atau dokumen pendukung lainnya. Pengajuan dapat dilakukan setiap semester." 
                },
                no: { 
                  response: "Informasi UKT dapat dilihat di portal akademik atau hubungi bagian keuangan kampus. Besaran UKT bervariasi berdasarkan program studi dan tingkat kemahalan daerah." 
                }
              }
            },
            no: {
              keyword: "jadwal",
              yes: {
                keyword: "kuliah",
                yes: { 
                  response: "Jadwal kuliah dapat dilihat di portal akademik atau aplikasi mobile kampus. Jadwal dapat berubah sewaktu-waktu, jadi selalu periksa pembaruan terbaru. Anda juga dapat mengunduh jadwal dalam format PDF." 
                },
                no: {
                  keyword: "ujian",
                  yes: { 
                    response: "Jadwal ujian tengah semester dan akhir semester akan diumumkan melalui portal akademik. Pastikan untuk memeriksa ruang dan waktu ujian. Jangan lupa membawa kartu mahasiswa dan alat tulis yang diperlukan." 
                  },
                  no: { 
                    response: "Kalender akademik dapat diakses melalui portal kampus. Kalender mencakup jadwal penting seperti awal semester, libur nasional, dan periode ujian." 
                  }
                }
              },
              no: {
                keyword: "cuti",
                yes: { 
                  response: "Pengajuan cuti akademik dapat dilakukan melalui portal akademik dengan melampirkan surat keterangan dokter (jika sakit) atau dokumen pendukung lainnya. Cuti dapat diajukan maksimal 2 semester berturut-turut." 
                },
                no: {
                  keyword: "dosen",
                  yes: { 
                    response: "Informasi dosen pengampu dapat dilihat di KRS atau hubungi bagian akademik fakultas. Anda juga dapat mengakses jadwal konsultasi dosen melalui portal akademik." 
                  },
                  no: {
                    keyword: "fasilitas",
                    yes: {
                      keyword: "perpustakaan",
                      yes: { 
                        response: "Perpustakaan buka setiap hari kerja pukul 08.00-16.00 WIB. Akses e-library tersedia 24 jam melalui portal kampus. Perpustakaan menyediakan berbagai koleksi buku, jurnal, dan sumber belajar digital." 
                      },
                      no: {
                        keyword: "laboratorium",
                        yes: { 
                          response: "Laboratorium dapat diakses sesuai jadwal praktikum. Pastikan Anda sudah mendaftar dan memiliki kartu akses. Setiap laboratorium memiliki aturan dan prosedur keselamatan yang harus dipatuhi." 
                        },
                        no: { 
                          response: "Informasi fasilitas kampus dapat dilihat di website resmi kampus. Kampus menyediakan berbagai fasilitas seperti wifi, ruang diskusi, dan area olahraga." 
                        }
                      }
                    },
                    no: {
                      keyword: "beasiswa",
                      yes: { 
                        response: "Informasi beasiswa dapat dilihat di portal akademik atau hubungi bagian kemahasiswaan. Beberapa jenis beasiswa yang tersedia: beasiswa prestasi, beasiswa bantuan, dan beasiswa dari mitra kampus." 
                      },
                      no: {
                        keyword: "organisasi",
                        yes: { 
                          response: "Informasi organisasi kemahasiswaan dapat dilihat di website BEM atau hubungi bagian kemahasiswaan. Kampus memiliki berbagai unit kegiatan mahasiswa seperti UKM olahraga, seni, dan keagamaan." 
                        },
                        no: {
                          keyword: "wisuda",
                          yes: {
                            response: "Informasi wisuda dapat dilihat di portal akademik. Persiapkan dokumen yang diperlukan seperti transkrip nilai, sertifikat TOEFL, dan foto wisuda. Wisuda biasanya diadakan 2 kali dalam setahun."
                          },
                          no: {
                            keyword: "magang",
                            yes: {
                              response: "Informasi magang dapat dilihat di portal akademik atau hubungi bagian kemahasiswaan. Kampus memiliki kerjasama dengan berbagai perusahaan dan instansi untuk program magang."
                            },
                            no: {
                              keyword: "alumni",
                              yes: {
                                response: "Informasi jaringan alumni dapat diakses melalui portal alumni. Alumni dapat bergabung dalam berbagai program seperti mentoring, sharing session, dan networking event."
                              },
                              no: { 
                                response: "Maaf, saya belum bisa menjawab pertanyaan itu. Silakan hubungi bagian akademik fakultas untuk informasi lebih lanjut." 
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    };

    // # Fungsi untuk menelusuri decision tree berdasarkan input user
    function traverseTree(tree, input) {
      if (tree.response) return tree.response; // # Jika sudah sampai leaf node, kembalikan response
      // # Jika root node (keyword kosong), langsung ke cabang utama
      if (!tree.keyword || tree.keyword.trim() === "") {
        if (tree.no) return traverseTree(tree.no, input);
        return "Maaf, saya belum bisa menjawab pertanyaan itu.";
      }
      // # Cek apakah input mengandung salah satu keyword pada node ini
      const keywords = tree.keyword.split(" ");
      const hasKeyword = keywords.some(keyword => input.includes(keyword));
      if (hasKeyword) {
        if (tree.yes) return traverseTree(tree.yes, input);
        return tree.response || "Maaf, saya belum bisa menjawab pertanyaan itu.";
      } else {
        if (tree.no) return traverseTree(tree.no, input);
        return tree.response || "Maaf, saya belum bisa menjawab pertanyaan itu.";
      }
    }

    // # Fungsi untuk menampilkan pesan ke chatbox
    function tampilkan(pengirim, teks) {
      const chat = document.getElementById("chatbox");
      const msg = document.createElement("div");
      msg.className = "message " + pengirim;
      msg.textContent = pengirim + ": " + teks;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }

    // # Fungsi untuk mengirim pesan user dan menampilkan respons bot
    function kirim() {
      const input = document.getElementById("userInput");
      const teks = input.value.trim().toLowerCase();
      if (teks === "") return;
      tampilkan("Anda", teks);
      const respons = traverseTree(decisionTree, teks);
      tampilkan("Bot", respons);
      input.value = "";
    }

    // # Fungsi untuk mereset chatbox dan input
    function reset() {
      const chat = document.getElementById("chatbox");
      chat.innerHTML = "";
      document.getElementById("userInput").value = "";
    }
  </script>

</body>

</html>
